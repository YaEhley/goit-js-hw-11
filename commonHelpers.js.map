{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport function searchImages(userQuery) {\n    const BASE_URL = 'https://pixabay.com';\n    const END_POINT = '/api/';\n    const PARAMS = `?key=43045712-2af2c0632fda7941642b98154&q=${userQuery}&image_type=photo&orientation=horizontal&safesearch=true`;\n    const URL = BASE_URL + END_POINT + PARAMS;\n    return fetch(URL)\n        .then(res => res.json())\n        .then(data => {\n            if (data.hits.length === 0) {\n                iziToast.show({\n                    messageColor: 'white',\n                    position: 'topRight',\n                    backgroundColor: 'red',\n                    progressBar: false,\n                    close: false,\n                    closeOnClick: true,\n                    message: 'Sorry, there are no images matching youre search query. Please, try again!',\n                });\n            }\n            return data;\n        });\n}","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = document.querySelector('.gallery');\n\nfunction createGallery(userSymbol) {\n  return `<li class=\"gallery-item\">\n        <a href=\"${userSymbol.largeImageURL}\"> <img class=\"gallery-image\" src=\"${userSymbol.webformatURL}\" alt=\"${userSymbol.tags}\"></a>\n        <div class='discription'><p><b>Likes </b>${userSymbol.likes}</p>\n        <p><b>Views </b>${userSymbol.views}</p>\n        <p><b>Comments </b>${userSymbol.comments}</p>\n        <p><b>Downloads </b>${userSymbol.downloads}</p>\n        </div>\n      </li>`;\n}\n\nexport function renderGallery(userSymbol) {\n  const markup = userSymbol.hits.map(createGallery).join(``);\n  gallery.innerHTML = markup;\n\n  const myOptions = {\n    captionsData: 'alt',\n    captionDelay: 250,\n  };\n\n  const myGallery = new SimpleLightbox('.gallery a', myOptions);\n  myGallery.on('show.simplelightbox');\n  myGallery.refresh();\n}","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { searchImages } from './js/pixabay-api.js';\nimport { renderGallery } from './js/render-functions.js';\n\nconst formEl = document.querySelector('form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nformEl.addEventListener('submit', onBtnSearch);\n\nlet userSymbol;\n\nfunction onBtnSearch(e) {\n  e.preventDefault();\n  loader.classList.add('is-open');\n  userSymbol = e.target.elements.search.value.trim();\n  if (userSymbol === '') {\n    loader.classList.remove('is-open');\n    gallery.innerHTML = '';\n    iziToast.show({\n      position: 'topRight',\n      messageColor: 'white',\n      progressBar: false,\n      backgroundColor: 'red',\n      closeOnClick: true,\n      close: false,\n      message: 'Please enter a search tag',\n    });\n  } else {\n    searchImages(userSymbol)\n      .then(images => {\n        renderGallery(images);\n      })\n      .catch(error => {\n        iziToast.show({\n          position: 'topRight',\n          messageColor: 'white',\n          progressBar: false,\n          backgroundColor: 'red',\n          closeOnClick: true,\n          close: false,\n          message: `Error fetching images: ${error}`,\n        });\n      })\n      .finally(() => {\n        loader.classList.remove('is-open');\n        e.target.reset();\n      });\n  }\n}"],"names":["searchImages","userQuery","BASE_URL","END_POINT","PARAMS","URL","res","data","iziToast","gallery","createGallery","userSymbol","renderGallery","markup","myOptions","myGallery","SimpleLightbox","formEl","loader","onBtnSearch","e","images","error"],"mappings":"6vBAGO,SAASA,EAAaC,EAAW,CACpC,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAS,6CAA6CH,CAAS,2DAC/DI,EAAMH,EAAWC,EAAYC,EACnC,OAAO,MAAMC,CAAG,EACX,KAAKC,GAAOA,EAAI,MAAM,EACtB,KAAKC,IACEA,EAAK,KAAK,SAAW,GACrBC,EAAS,KAAK,CACV,aAAc,QACd,SAAU,WACV,gBAAiB,MACjB,YAAa,GACb,MAAO,GACP,aAAc,GACd,QAAS,4EAC7B,CAAiB,EAEED,EACV,CACT,CCrBA,MAAME,EAAU,SAAS,cAAc,UAAU,EAEjD,SAASC,EAAcC,EAAY,CACjC,MAAO;AAAA,mBACUA,EAAW,aAAa,sCAAsCA,EAAW,YAAY,UAAUA,EAAW,IAAI;AAAA,mDAC9EA,EAAW,KAAK;AAAA,0BACzCA,EAAW,KAAK;AAAA,6BACbA,EAAW,QAAQ;AAAA,8BAClBA,EAAW,SAAS;AAAA;AAAA,YAGlD,CAEO,SAASC,EAAcD,EAAY,CACxC,MAAME,EAASF,EAAW,KAAK,IAAID,CAAa,EAAE,KAAK,EAAE,EACzDD,EAAQ,UAAYI,EAEpB,MAAMC,EAAY,CAChB,aAAc,MACd,aAAc,GAClB,EAEQC,EAAY,IAAIC,EAAe,aAAcF,CAAS,EAC5DC,EAAU,GAAG,qBAAqB,EAClCA,EAAU,QAAO,CACnB,CCvBA,MAAME,EAAS,SAAS,cAAc,MAAM,EACtCR,EAAU,SAAS,cAAc,UAAU,EAC3CS,EAAS,SAAS,cAAc,SAAS,EAE/CD,EAAO,iBAAiB,SAAUE,CAAW,EAE7C,IAAIR,EAEJ,SAASQ,EAAYC,EAAG,CACtBA,EAAE,eAAc,EAChBF,EAAO,UAAU,IAAI,SAAS,EAC9BP,EAAaS,EAAE,OAAO,SAAS,OAAO,MAAM,OACxCT,IAAe,IACjBO,EAAO,UAAU,OAAO,SAAS,EACjCT,EAAQ,UAAY,GACpBD,EAAS,KAAK,CACZ,SAAU,WACV,aAAc,QACd,YAAa,GACb,gBAAiB,MACjB,aAAc,GACd,MAAO,GACP,QAAS,2BACf,CAAK,GAEDR,EAAaW,CAAU,EACpB,KAAKU,GAAU,CACdT,EAAcS,CAAM,CAC5B,CAAO,EACA,MAAMC,GAAS,CACdd,EAAS,KAAK,CACZ,SAAU,WACV,aAAc,QACd,YAAa,GACb,gBAAiB,MACjB,aAAc,GACd,MAAO,GACP,QAAS,0BAA0Bc,CAAK,EAClD,CAAS,CACT,CAAO,EACA,QAAQ,IAAM,CACbJ,EAAO,UAAU,OAAO,SAAS,EACjCE,EAAE,OAAO,OACjB,CAAO,CAEP"}